<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>A Useful Website</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f2f2f2;
    color: #222;
    text-align: center;
    padding: 30px;
    transition: background-color 0.3s, color 0.3s;
  }

  h1 {
    margin-bottom: 20px;
  }

  section {
    background-color: #fff;
    border-radius: 10px;
    padding: 20px;
    margin: 20px auto;
    max-width: 500px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
  }

  input, button, select {
    font-size: 16px;
    padding: 8px;
    margin: 5px;
    border-radius: 5px;
    border: 1px solid #ccc;
  }

  button {
    background-color: #4CAF50;
    color: white;
    border: none;
    cursor: pointer;
    transition: 0.3s;
  }

  button:hover {
    background-color: #45a049;
  }

  #password, #calcResult, #greetResult, #spinResult, #coinResult {
    margin-top: 10px;
    font-weight: bold;
    font-size: 18px;
  }

  #strength {
    margin-top: 5px;
    font-weight: bold;
  }

  .weak { color: red; }
  .medium { color: orange; }
  .strong { color: green; }

  /* Dark mode */
  body.dark {
    background-color: #222;
    color: #f2f2f2;
  }

  body.dark section {
    background-color: #333;
    color: #f2f2f2;
    border: 1px solid #555;
  }

  body.dark button {
    background-color: #555;
  }

  body.dark button:hover {
    background-color: #777;
  }
</style>
</head>
<body>

<h1>Rafay's Multi-Tool Hub üõ†Ô∏è</h1>
<button onclick="toggleTheme()">Toggle Dark/Light Mode</button>

<!-- Password Generator -->
<section>
  <h2>Password Generator üîê</h2>
  <label>Length: <input type="number" id="pwLength" min="4" max="32" value="12"></label><br>
  <label><input type="checkbox" id="pwLower" checked> Lowercase</label>
  <label><input type="checkbox" id="pwUpper" checked> Uppercase</label>
  <label><input type="checkbox" id="pwNumbers" checked> Numbers</label>
  <label><input type="checkbox" id="pwSymbols" checked> Symbols</label>
  <br>
  <button onclick="generatePassword()">Generate Password</button>
  <button onclick="copyPassword()">Copy Password</button>
  <p id="password">Your password will appear here</p>
  <p id="strength"></p>
</section>

<!-- Calculator -->
<section>
  <h2>Calculator üßÆ</h2>
  <input type="number" id="calcNum1" placeholder="Number 1">
  <input type="number" id="calcNum2" placeholder="Number 2">
  <br>
  <button onclick="calculate('+')">+</button>
  <button onclick="calculate('-')">-</button>
  <button onclick="calculate('*')">√ó</button>
  <button onclick="calculate('/')">√∑</button>
  <p id="calcResult"></p>
</section>

<!-- Name Greeter -->
<section>
  <h2>Name Greeter üôã</h2>
  <input type="text" id="nameInput" placeholder="Enter your name">
  <button onclick="greetName()">Greet Me</button>
  <p id="greetResult"></p>
</section>

<!-- Coin Flipper -->
<section>
  <h2>Coin Flipper ü™ô</h2>
  <button onclick="flipCoin()">Flip Coin</button>
  <p id="coinResult"></p>
</section>

<!-- Spin Wheel / Random Choice -->
<section>
  <h2>Spin Wheel / Random Choice üé°</h2>
  <input type="text" id="spinInput" placeholder="Enter options, comma separated">
  <button onclick="spinWheel()">Spin</button>
  <p id="spinResult"></p>
</section>

<script>
/* ---------------- Password Generator ---------------- */
const pwLowerChars = "abcdefghijklmnopqrstuvwxyz";
const pwUpperChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
const pwNumberChars = "0123456789";
const pwSymbolChars = "!@#$%^&*()_+[]{}|;:,.<>?";
let pwHistory = [];

function generatePassword() {
  let length = Number(document.getElementById("pwLength").value);
  let chars = "";
  let password = "";

  if (document.getElementById("pwLower").checked) chars += pwLowerChars;
  if (document.getElementById("pwUpper").checked) chars += pwUpperChars;
  if (document.getElementById("pwNumbers").checked) chars += pwNumberChars;
  if (document.getElementById("pwSymbols").checked) chars += pwSymbolChars;

  if (!chars) {
    alert("Select at least one character type!");
    return;
  }

  for (let i=0;i<length;i++){
    password += chars[Math.floor(Math.random()*chars.length)];
  }

  document.getElementById("password").innerText = password;
  updateStrength(password);
}

function copyPassword() {
  let pw = document.getElementById("password").innerText;
  if (!pw || pw === "Your password will appear here") return alert("Generate a password first!");
  navigator.clipboard.writeText(pw).then(()=>alert("Password copied!"));
}

function updateStrength(password) {
  let score=0;
  if (/[a-z]/.test(password)) score++;
  if (/[A-Z]/.test(password)) score++;
  if (/[0-9]/.test(password)) score++;
  if (/[^A-Za-z0-9]/.test(password)) score++;
  if (password.length >= 12) score++;
  let strength = document.getElementById("strength");
  if (score<=2){strength.textContent="Strength: Weak";strength.className="weak";}
  else if (score<=4){strength.textContent="Strength: Medium";strength.className="medium";}
  else {strength.textContent="Strength: Strong";strength.className="strong";}
}

/* ---------------- Calculator ---------------- */
function calculate(op){
  let num1 = Number(document.getElementById("calcNum1").value);
  let num2 = Number(document.getElementById("calcNum2").value);
  let res;
  if(op==='+') res=num1+num2;
  else if(op==='-') res=num1-num2;
  else if(op==='*') res=num1*num2;
  else if(op==='/') res = num2!==0 ? num1/num2 : "Error: Div by 0";
  document.getElementById("calcResult").innerText = "Result: "+res;
}

/* ---------------- Name Greeter ---------------- */
function greetName(){
  let name=document.getElementById("nameInput").value;
  if(!name) name="Stranger";
  document.getElementById("greetResult").innerText = "Hello, "+name+"!";
}

/* ---------------- Coin Flipper ---------------- */
function flipCoin(){
  let result = Math.random() < 0.5 ? "ü™ô Heads" : "ü™ô Tails";
  document.getElementById("coinResult").innerText = result;
}

/* ---------------- Spin Wheel ---------------- */
function spinWheel(){
  let input=document.getElementById("spinInput").value;
  if(!input){alert("Enter options!"); return;}
  let options = input.split(",").map(o=>o.trim()).filter(o=>o);
  if(options.length===0){alert("No valid options!"); return;}
  let choice = options[Math.floor(Math.random()*options.length)];
  document.getElementById("spinResult").innerText = "üéØ Selected: "+choice;
}

/* ---------------- Dark/Light Mode ---------------- */
function toggleTheme(){
  document.body.classList.toggle("dark");
}
</script>

</body>
</html>
